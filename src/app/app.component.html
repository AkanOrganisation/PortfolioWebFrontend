<!-- Show spinner when loading -->
<mat-spinner *ngIf="loading; else content"></mat-spinner>

<ng-template #content>
  <!-- Show auth component when not authenticated -->
  <app-login-user *ngIf="!user.authenticated; else authenticatedContent"></app-login-user>

  <ng-template #authenticatedContent>
    <!-- Show client dashboard if user is a client -->
    <app-dashboard-client *ngIf="user.isClient; else checkOrganiser"></app-dashboard-client>

    <ng-template #checkOrganiser>
      <!-- Show organiser dashboard if user is an organiser -->
      <app-dashboard-organiser *ngIf="user.isOrganiser; else defaultAuth"></app-dashboard-organiser>

      <ng-template #defaultAuth>
        <!-- Show auth component if user is neither a client nor an organiser -->
        <app-login-user></app-login-user>
      </ng-template>
    </ng-template>
  </ng-template>
</ng-template>
